(this.webpackJsonpweather_project_08_20=this.webpackJsonpweather_project_08_20||[]).push([[0],{24:function(e,t,n){e.exports=n.p+"static/media/overcast.b38ce85c.jpg"},25:function(e,t,n){e.exports=n.p+"static/media/rain.4ce5a7d0.jpg"},29:function(e,t,n){e.exports=n(54)},34:function(e,t,n){},4:function(e,t,n){e.exports=n.p+"static/media/clear.b4cbe3b6.jpg"},5:function(e,t,n){e.exports=n.p+"static/media/storm.638b558d.jpg"},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),c=n.n(r),i=(n(34),n(2)),s=n(8),l=n.n(s),u=n(22),d=n(3),p=n(23),m=n.n(p),f=n(6),g=o.a.createContext(),h=n(4),w=n.n(h),v=n(24),b=n.n(v),y=n(25),j=n.n(y),x=n(5),E=n.n(x);function O(){var e=Object(d.a)(["\n    width: 200px;\n    background: none;\n    border-radius: 10px;\n    text-align: left;\n    padding: 10px;\n    transition: 0.3s;\n    &:hover{\n        cursor: pointer;\n        background: rgba(0,0,0,0.3);\n    }\n    h2{\n        color: white;\n        font-weight: 300;\n    }\n    p{\n        color: white;\n        font-weight: 300;\n    }\n"]);return O=function(){return e},e}var S=f.a.div(O()),k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],C={Clear:w.a,Rain:j.a,Overcast:w.a,Thunderstorm:E.a,Clouds:b.a},T=function(e){var t=Object(a.useContext)(g),n=(t.theme,t.setTheme),r=new Date(1e3*e.date),c=k[r.getDay()],i=r.getDate(),s=1===i||21===i||31===i?"st":2===i||22===i?"nd":3===i||23===i?"rd":"th";return o.a.createElement(S,{onClick:function(){return n(C[e.main])}},o.a.createElement("h2",null,e.title),o.a.createElement("h3",null,e.temp," \u2103"),o.a.createElement("p",null,0===e.today?"Today":1===e.today?"Tomorrow":"".concat(c," ").concat(i," ").concat(s)))};function _(){var e=Object(d.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    width: 100%;\n    margin: auto;\n"]);return _=function(){return e},e}var N=f.a.section(_()),I=function(){var e=Object(a.useState)({lat:51.5074,lon:.1278}),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(void 0),s=Object(i.a)(c,2),d=s[0],p=s[1];return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r({lat:e.coords.latitude,lon:e.coords.longitude})}))}),[]),Object(a.useEffect)((function(){if(sessionStorage.getItem("forecast-".concat(n.lat,"-").concat(n.lon))){var e=JSON.parse(sessionStorage.getItem("forecast-".concat(n.lat,"-").concat(n.lon)));p(e),console.log("Using Session Storage")}else{(function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={lon:n.lon,lat:n.lat,appid:"d62c3e3ede49b65f11eceeb16ca5c078"},e.next=3,m.a.get("https://api.openweathermap.org/data/2.5/onecall?",{params:t});case 3:a=e.sent,sessionStorage.setItem("forecast-".concat(n.lat,"-").concat(n.lon),JSON.stringify(a.data)),p(a.data),console.log("New Call");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[n]),o.a.createElement(N,null,d?d.daily.map((function(e,t){return o.a.createElement(T,{key:t,title:e.weather[0].description,temp:(e.temp.day-275.15).toFixed(),date:e.dt,today:t,main:e.weather[0].main})})):o.a.createElement("p",null,"Loading..."))};n(53);var J=function(){var e=Object(a.useState)(E.a),t=Object(i.a)(e,2),n=t[0],r=t[1];return o.a.createElement(g.Provider,{value:{theme:n,setTheme:r}},o.a.createElement("div",{className:"App"},o.a.createElement("img",{className:"Background",src:n,alt:"Current weather"}),o.a.createElement("h1",null,"Weather Forecasting Application"),o.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.e2cbef12.chunk.js.map