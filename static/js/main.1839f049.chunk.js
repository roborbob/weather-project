(this.webpackJsonpweather_project_08_20=this.webpackJsonpweather_project_08_20||[]).push([[0],{25:function(e,t,n){e.exports=n(50)},30:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),c=n.n(r),i=(n(30),n(5)),l=n.n(i),s=n(20),u=n(7),d=n(2),p=n(21),f=n.n(p),g=n(3);function m(){var e=Object(d.a)(["\n    width: 200px;\n    background: lightblue;\n    border-radius: 10px;\n    text-align: left;\n    padding: 10px;\n    h2{\n        font-weight: 300;\n    }\n    p{\n        font-weight: 300;\n    }\n"]);return m=function(){return e},e}var h=g.a.div(m()),w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=function(e){var t=new Date(1e3*e.date),n=w[t.getDay()],a=t.getDate(),r=1===a||21===a||31===a?"st":2===a||22===a?"nd":3===a||23===a?"rd":"th";return o.a.createElement(h,null,o.a.createElement("h2",null,e.title),o.a.createElement("h3",null,e.temp," \u2103"),o.a.createElement("p",null,n," ",a,r))};function y(){var e=Object(d.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    width: 600px;\n    margin: auto;\n"]);return y=function(){return e},e}var b=g.a.section(y()),E=function(){var e=Object(a.useState)({lat:51.5074,lon:.1278}),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(void 0),i=Object(u.a)(c,2),d=i[0],p=i[1];return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r({lat:e.coords.latitude,lon:e.coords.longitude})}))}),[]),Object(a.useEffect)((function(){if(sessionStorage.getItem("forecast-".concat(n.lat,"-").concat(n.lon))){var e=JSON.parse(sessionStorage.getItem("forecast-".concat(n.lat,"-").concat(n.lon)));p(e),console.log("Using Session Storage")}else{(function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={lon:n.lon,lat:n.lat,appid:"d62c3e3ede49b65f11eceeb16ca5c078"},e.next=3,f.a.get("http://api.openweathermap.org/data/2.5/onecall?",{params:t});case 3:a=e.sent,sessionStorage.setItem("forecast-".concat(n.lat,"-").concat(n.lon),JSON.stringify(a.data)),p(a.data),console.log("New Call");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[n]),console.log(d?d.daily:"loading"),o.a.createElement(b,null,d?d.daily.map((function(e,t){return o.a.createElement(v,{key:t,title:e.weather[0].description,temp:(e.temp.day-275.15).toFixed(),date:e.dt})})):o.a.createElement("p",null,"Loading..."))};n(49);var x=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h2",null,"Weather Forecasting Application"),o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.1839f049.chunk.js.map